function preload(){game.load.image("teemo","games/grattage/assets/teemo.png"),game.load.image("draven","games/grattage/assets/draven.png"),game.load.image("urgot","games/grattage/assets/urgot.png"),game.load.image("scratch","games/grattage/assets/scratch.png"),game.load.image("bg","games/grattage/assets/bg.png"),game.load.image("win","games/grattage/assets/win.png"),game.load.image("lose","games/grattage/assets/lose.png")}function createVignette(a){var b=game.make.bitmapData(SIZE,SIZE);return game.add.sprite(SHIFT_X,a,"scratch"),b.addToWorld(SHIFT_X,a),b}function selectChampions(){for(var a=Math.floor(3*Math.random())%3,b=0;b<3;b++)0==WIN&&(a=Math.floor(3*Math.random())%3),championsSelected[b]=champions[a];for(;0==WIN&&championsSelected[1]==championsSelected[2];)championsSelected[2]=champions[Math.floor(3*Math.random())%3];return championsSelected}function create(){game.add.sprite(0,0,"bg"),v1=createVignette(150),v2=createVignette(300),v3=createVignette(450),championsSelected=selectChampions()}function update(){game.input.activePointer.isDown&&(game.input.activePointer.y<290?(check1+=1,v1.copy(championsSelected[0],game.input.activePointer.x-SHIFT_X-ERASE_SIZE/2,game.input.activePointer.y-150-ERASE_SIZE/2,ERASE_SIZE,ERASE_SIZE)):game.input.activePointer.y<440?(check2+=1,v2.copy(championsSelected[1],game.input.activePointer.x-SHIFT_X-ERASE_SIZE/2,game.input.activePointer.y-300-ERASE_SIZE/2,ERASE_SIZE,ERASE_SIZE)):(check3+=1,v3.copy(championsSelected[2],game.input.activePointer.x-SHIFT_X-ERASE_SIZE/2,game.input.activePointer.y-450-ERASE_SIZE/2,ERASE_SIZE,ERASE_SIZE))),check1>LIMIT&&check2>LIMIT&&check3>LIMIT&&results()}function results(){game.add.sprite(0,275,WIN?"win":"lose"),sparkShowResult()}var WIN=winner,SIZE=120,SHIFT_X=90,ERASE_SIZE=40,LIMIT=50,game=new Phaser.Game(300,600,Phaser.AUTO,"",{preload:preload,create:create,update:update}),champions=["teemo","draven","urgot"],v1,v2,v3,check1=0,check2=0,check3=0,championsSelected=[];
